<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Calculate · numericalshadow.org</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">numericalshadow.org</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Start</a></li><li><span class="tocitem">Numerical range</span><ul><li><a class="tocitem" href="../properties/">Properites</a></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/">List of example numerical ranges</a></li><li><a class="tocitem" href="../examples/2x2/">2x2 matrices</a></li><li><a class="tocitem" href="../examples/3x3/">3x3 matrices</a></li><li><a class="tocitem" href="../examples/4x4/">4x4 matrices</a></li><li><a class="tocitem" href="../examples/ginibre/">Random matrices</a></li><li><a class="tocitem" href="../examples/doubly-stochastic/">Doubly stochastic matrices</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Generalizations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generalizations/">Generalizations of numerical range</a></li></ul></li><li class="is-active"><a class="tocitem" href>Calculate</a></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Animations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../animations/">Animations</a></li><li><a class="tocitem" href="../animations/ginibre/">Numerical range of Ginibre matrix</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Numerical range</a></li><li class="is-active"><a href>Calculate</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Calculate</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lpawela/numericalshadow.org/blob/master/src/numerical-range/calculate.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Calculate-numerical-range"><a class="docs-heading-anchor" href="#Calculate-numerical-range">Calculate numerical range</a><a id="Calculate-numerical-range-1"></a><a class="docs-heading-anchor-permalink" href="#Calculate-numerical-range" title="Permalink"></a></h1><p>`   if (!isset(<span>$_POST[&#39;calculate&#39;])) {     echo &#39;&lt;span style=&quot;color: red&quot;&gt;ATTENTION: The imaginary unit should be denoted by &quot;j&quot;!&lt;/span&gt;&#39;;   }   echo &#39;&lt;form method=&quot;post&quot; action=&quot;/numerical-range:calculate&quot;&gt;&#39;;     echo &#39;&lt;label for=&quot;selectsize&quot;&gt;Select size of the matrix: &lt;/label&gt;&#39;;     echo &#39;&lt;select name=&quot;selectsize&quot; id=&quot;selectsize&quot;&gt;&#39;;     for ($</span>i=2;<span>$i&lt;=4;$</span>i++) {       if (isset(<span>$_POST[&#39;selectsize&#39;]) &amp;&amp; $_POST[&#39;selectsize&#39;]==$</span>i) {         echo &#39;&lt;option value=&quot;&#39; . <span>$i . &#39;&quot; selected&gt;&#39; . $i . &#39;&lt;/option&gt;&#39;;       }       else {         echo &#39;&lt;option value=&quot;&#39; . $i . &#39;&quot;&gt;&#39; . $i . &#39;&lt;/option&gt;&#39;;       }     }     echo &#39;&lt;/select&gt;&#39;;     echo &#39;&lt;div id=&quot;matrix&quot;&gt;&#39;;     echo &#39;&lt;/div&gt;&#39;;     echo &#39;&lt;label for=&quot;keep_aspect&quot;&gt;Keep aspect ratio&lt;/label&gt;&#39;;     if (isset($</span><em>POST[&#39;keep</em>aspect&#39;]) &amp;&amp; _POST[&#39;keep<em>aspect&#39;]==&#39;true&#39;) {       echo &#39;&lt;input type=&quot;checkbox&quot; name=&quot;keep</em>aspect&quot; id=&quot;keep<em>aspect&quot; value=&quot;true&quot; checked/&gt;&lt;br /&gt;&#39;;     }     else {       echo &#39;&lt;input type=&quot;checkbox&quot; name=&quot;keep</em>aspect&quot; id=&quot;keep_aspect&quot; value=&quot;true&quot;/&gt;&lt;br /&gt;&#39;;     }     echo &#39;&lt;input type=&quot;submit&quot; value=&quot;Calculate&quot; name=&quot;calculate&quot; /&gt;&lt;br /&gt;&#39;;   echo &#39;&lt;/form&gt;&#39;;</p><p>if (isset(<span>$_POST[&#39;calculate&#39;]) &amp;&amp; $_POST[&#39;calculate&#39;]==&#39;Calculate&#39;) {   $size = (int) $_POST[&#39;selectsize&#39;];   if ($</span>size != 2 &amp;&amp; <span>$size !=3 &amp;&amp; $size != 4) {     echo &quot;Wrong size of input matrix&lt;br /&gt;&quot;;   }   else {     $keep = ($</span><em>POST[&#39;keep</em>aspect&#39;] === &#39;true&#39;)? &#39;true&#39; : &#39;false&#39;;     <span>$output = &#39;&#39;;     $latex = &#39;&#39;;     $success = 1;     echo &#39;&lt;form&gt;&#39;;     for ($</span>i=0; <span>$i &lt; $size; $i++) {       for ($</span>j=0; <span>$j &lt; $size; $j++) {         echo &#39;&lt;input id=&quot;old_matrix_&#39; . $i . &#39;_&#39; . $j . &#39;&quot; type=&quot;hidden&quot; value=&quot;&#39; . $_POST[&#39;matrix&#39;][$</span>i][<span>$j] . &#39;&quot; /&gt;&#39;;         if (!preg_match(&quot;/(-?\s*\d\s*[\+-]\s*\dj\s*)|(-?\dj?)/&quot;, $_POST[&#39;matrix&#39;][$</span>i][<span>$j]) || $_POST[&#39;matrix&#39;][$</span>i][<span>$j]==&#39;j&#39;) {           echo &quot;Wrong value for element $i, $j: &quot; . $_POST[&#39;matrix&#39;][$</span>i][<span>$j] . &quot;&lt;br /&gt;&quot;;           $success = 0;         }         else {           $output .= &quot; &quot; . preg_replace(&#39;/\s*/&#39;, &#39;&#39;, $_POST[&#39;matrix&#39;][$</span>i][<span>$j]);           if ($</span><em>POST[&#39;matrix&#39;][<span>$i][$</span>j] === &#39;0+0j&#39;) { latex</em>concat=&#39;0&#39;; }           elseif (<span>$_POST[&#39;matrix&#39;][$</span>i][<span>$j] === &#39;0j&#39;) {$</span>latex<em>concat=&#39;0&#39;;}           elseif (preg</em>match(&#39;/0+\dj/&#39;, <span>$_POST[&#39;matrix&#39;][$</span>i][<span>$j])) {$</span>latex<em>concat = substr($</em>POST[&#39;matrix&#39;][<span>$i][$</span>j], 2);}           elseif (preg<em>match(&#39;/\d+0j/&#39;, $</em>POST[&#39;matrix&#39;][<span>$i][$</span>j])) {<span>$latex_concat = substr($</span><em>POST[&#39;matrix&#39;][<span>$i][$</span>j], 0, -3);}           else {latex</em>concat = <span>$_POST[&#39;matrix&#39;][$</span>i][<span>$j];}           $latex .= $latex_concat .&#39;&amp;&#39;;         }       }       $latex = rtrim($</span>latex, &#39;&amp;&#39;) . &#39;\\&#39;;       output .= &quot;;&quot;;     }     echo &#39;&lt;/form&gt;&#39;;</p><pre><code class="language-none">if ($success){
  $matrix = $_POST[&#39;matrix&#39;];
  $latex = str_replace(&#39;j&#39;, &#39;\\mathrm{i}&#39;, str_replace(&#39;1j&#39;, &#39;j&#39;, $latex));
  $output = ltrim(rtrim($output, &#39;;&#39;));
  $img = shell_exec(&#39;/usr/bin/python /home/ubuntu/numericalshadow/calc_range.py &quot;&#39; . $output . &#39;&quot; &#39; . $keep . &#39; 2&gt;&amp;1&#39;);
  if ($keep === &#39;false&#39;) {
    echo &#39;&lt;span style=&quot;color: red&quot;&gt;WARNING: Aspect ration not maintained. Figure might be distorted&lt;/span&gt;&#39;;
  }
  echo &quot;&lt;img src=&#39;/lib/exe/fetch.php?media=calculate:$img&#39; /&gt;&lt;br /&gt;&quot;;
  echo &#39;&lt;center&gt;Figure: numerical range of matrix&lt;/center&gt;&#39;;
  echo &#39;\\begin{pmatrix}&#39;;
  echo $latex;
  echo &#39;\\end{pmatrix}&#39;;
  echo &#39;&lt;br /&gt;&#39;;
}</code></pre><p>} } <code>{.php}</code> &lt;script type=&quot;text/javascript&quot;&gt;</p><p>jQuery(&quot;#selectsize&quot;).change(function() {     var x = jQuery(this).val();     jQuery(&quot;#matrix&quot;).html(&quot;&quot;);     for (var i = 0; i &lt; x; i ++) {       for (var j=0; j&lt;x; j++) {         var val=&#39;0+0j&#39;;         if (jQuery(&#39;#old<em>matrix</em>&#39; + i + &#39;<em>&#39; + j).length){           val = jQuery(&quot;#old</em>matrix<em>&quot; + i + &quot;</em>&quot; + j).val();         }         jQuery(&#39;#matrix&#39;).append(&#39;&lt;input value=&quot;&#39; + val + &#39;&quot; style=&quot;width: 50px&quot; type=&quot;text&quot; name=&quot;matrix[&#39; + i + &#39;][&#39; + j + &#39;]\&quot; /&gt;&#39;);       }       jQuery(&quot;#matrix&quot;).append(&quot;&lt;br /&gt;&quot;);     }   }).change(); &lt;/script&gt; `{=html}</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../generalizations/">« Generalizations of numerical range</a><a class="docs-footer-nextpage" href="../animations/">Animations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 26 October 2020 23:23">Monday 26 October 2020</span>. Using Julia version 1.5.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
